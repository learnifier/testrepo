[#ftl strip_text="true" /]

[#assign cpweb_head]
${cpweb_head}
[/#assign]

[#assign cpweb_foot]
${cpweb_foot}

<script>
    $('#menu-courses').addClass('active');

    require(["${contextPath}/js/course/editCourse.js?${cycle.application.formattedStartTime.base36String}"], function(s) {
        console.log("html: ", s);
        s.init({
            getCourseUrl: "${helper.urlFor('course.CourseJsonModule','course')}",
            saveCourseUrl: "${helper.urlFor('course.CourseJsonModule','saveCourse')}",
            [#if org??]
            createCourseUrl: "${helper.urlFor('course.CourseJsonModule','createCourse', [org.id])}",
            [/#if]
            newSessionUrl:  "${helper.urlFor('project.NewProjectModule','setup')}",
            courseId: "${courseId!''}"
        });
    });

</script>

[/#assign]

[@dws.skin skin="bootstrap_barebone" head=cpweb_head foot=cpweb_foot]

<div class="modal-open">
    <div class="modal" style="padding-left: 0px;">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button data-bind="click: closer" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
                    <h4 class="modal-title">View/Edit Course</h4>
                </div>
                <div class="modal-body" style="padding: 15px 0;">
                    <label for="courseName">Name</label>
                    <input id="courseName" type="text" data-bind="textInput: name" class="form-control" tabindex="2">
                    <label for="courseDescription">Description</label>
                    <div id="courseDescription" contenteditable data-bind="value: description, ccbCKEditable: description, ccbCKEditableMode: 'classic'" tabindex="2"></div>
                </div>
                <div class="modal-footer">
                    <button data-bind="click: save, enable: validate()" class="btn btn-primary" id="courseModalSave">
                        <span class="glyphicon glyphicon-plus-sign"></span> Save
                    </button>
                    <button data-bind="click: closer" class="btn btn-primary" id="courseModalClose">
                        Close
                    </button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
</div>

<div class="modal-backdrop fade-in"></div>

[/@dws.skin]
