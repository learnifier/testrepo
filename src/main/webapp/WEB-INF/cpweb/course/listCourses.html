[#ftl strip_text="true" /]

[#assign foot]
${cpweb_foot}
<script>
    $('#menu-courses').addClass('active');

    require(["${contextPath}/js/course/listCourses.js?${cycle.application.formattedStartTime.base36String}"], function(s) {
        console.log("Sessions url: ${helper.urlFor('course.CourseJsonModule','listSessions',[org.id])}");
        s.init({
            listCoursesUrl: "${helper.urlFor('course.CourseJsonModule','listOrgCourses',[org.id])}",
            listSessionsUrl: "${helper.urlFor('course.CourseJsonModule','listSessions',[org.id])}",
            newSessionUrl:  "${helper.urlFor('project.NewProjectModule','setup')}",
            newCourseUrl:  "${helper.urlFor('course.CourseModule','createCourse',[org.id])}",
            spinnerUrl: "[@common.spinnerUrl /]",
            courseDetailsUrl: "${helper.urlFor('course.CourseModule','editCourse')}",
            sessionDetailsUrl: "${helper.urlFor('project.ProjectModule','overview')}"
        });
    });

</script>
[/#assign]

[@dws.skin skin="CPAuth3" head=cpweb_head foot=foot orgName=orgName]

<section class="ccb-page-header margin-bottom">
    [@portalSecurity.permissionBlock permission="CP_CREATE_PROJECT"]
    <div class="ccb-page-header__actions--right">
        <a href="#" class="btn btn-primary" id="addcourse-btn"><span class="glyphicon glyphicon-plus-sign"></span> Add Course</a>
    </div>
    [/@]
    <h1 class="page-title">Courses</h1>
</section>
<nav>
    <ul class="nav nav-underline">
    </ul>
</nav>

<div class="table-responsive">
    <table class="table table-striped table-hover ccb-table" width="100%" id="listcourses">
        <thead>
        <tr>
            <th></th>
            <th>Course Name</th>
            <th>Categories</th>
            <th>Sessions</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>
[/@dws.skin]

